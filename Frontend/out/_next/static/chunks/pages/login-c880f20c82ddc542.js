(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{4829:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(7876),i=t(4232),n=t(6848),l=t(6755),r=t(9099),o=t(9853),d=t(9038);let c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},u={hidden:{scale:.9,opacity:0},visible:{scale:1,opacity:1,transition:{delay:.2,duration:.5,ease:"easeOut"}}};function m(){let[e,s]=(0,i.useState)({email:"",password:""}),[t,m]=(0,i.useState)(!1),[x,p]=(0,i.useState)(""),[h,g]=(0,i.useState)(!1),y=(0,r.useRouter)(),{login:f}=(0,o.J)(),b=async()=>{var s,t,a,i,n,r;if(p(""),!e.email||!e.password)return void p("Please fill in all fields");m(!0);try{let t=await l.A.post("/auth/login",e);(null==t||null==(s=t.data)?void 0:s.token)?(f(t.data.token),y.push("/")):p("Login succeeded but no token returned. Check backend.")}catch(l){let e=(null==l||null==(a=l.response)||null==(t=a.data)?void 0:t.message)||(null==l||null==(n=l.response)||null==(i=n.data)?void 0:i.msg),s=null==l||null==(r=l.response)?void 0:r.status;404===s||/not found/i.test(e||"")?window.confirm("No account found for this email. Do you want to create one now?")&&y.push("/signup"):401===s||/invalid credentials/i.test(e||"")?p("Invalid email or password. Please try again."):p(e||"Login failed. Please try again later.")}finally{m(!1)}},v=e=>{"Enter"===e.key&&b()};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,a.jsx)(n.P.div,{variants:c,initial:"hidden",animate:"visible",className:"w-full max-w-md",children:(0,a.jsxs)(n.P.div,{variants:u,className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-8 text-center",children:[(0,a.jsx)(n.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(d.Zu,{className:"text-2xl text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-indigo-100",children:"Sign in to your account"})]}),(0,a.jsxs)("div",{className:"p-8",children:[x&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[(0,a.jsx)(d.BS8,{className:"text-red-500 mr-3"}),(0,a.jsx)("span",{className:"text-red-700 text-sm",children:x})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.maD,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"email",value:e.email,onChange:t=>s({...e,email:t.target.value}),onKeyPress:v,className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter your email"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.JhU,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:h?"text":"password",value:e.password,onChange:t=>s({...e,password:t.target.value}),onKeyPress:v,className:"w-full pl-12 pr-12 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>g(!h),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?(0,a.jsx)(d.mx3,{}):(0,a.jsx)(d.Ny1,{})})]})]}),(0,a.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:b,disabled:t,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center disabled:opacity-50",children:[t?(0,a.jsx)(d.hW,{className:"animate-spin mr-2"}):(0,a.jsx)(d.Zu,{className:"mr-2"}),t?"Signing in...":"Sign In"]})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)("button",{onClick:()=>y.push("/signup"),className:"text-indigo-600 hover:text-indigo-500 font-medium transition-colors",children:"Create one now"})]})})]})]})})})}},5794:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(4829)}])},9099:(e,s,t)=>{e.exports=t(6296)}},e=>{e.O(0,[938,693,636,593,792],()=>e(e.s=5794)),_N_E=e.O()}]);